<ion-header>
  <ion-toolbar>
    <ion-icon name="chevron-back-outline" slot="start" size="large" (click)="back()" color="danger"></ion-icon>
    <ion-title>mes-favoris</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngFor="let annonce of AnnoncesFavoris">
    <div [routerLink]="['/details-annonce',annonce.annonce.id]" style="padding:0;margin:0;height:180px;width:100%;background-size:cover;background-position: center;
    background-image: url({{annonce.annonce.media.length>0?storage+annonce.annonce.media[0].filePath:'../../../../assets/images/user.png'}})">
    </div>
    <ion-row style="width:100%" class="ion-margin-horizontal">
      <ion-col size="1">
        <ion-icon (click)="dislike(annonce.annonce.id)"  name="heart" color="danger" size="large" ></ion-icon>
      </ion-col>
      <ion-col>
        <ion-row style="width:100%" class="ion-margin-horizontal">
          <ion-text style="margin-top:5px;font-weight: bold;color:black;font-size: 1.3em;">{{annonce.annonce.nbLikes}} &ensp;&ensp; <strong style="font-weight:5em">J'aime</strong></ion-text>
        </ion-row>
      </ion-col>
    </ion-row>
   
    <ion-row class="ion-margin-horizontal" style="width:100%" [routerLink]="['/details-annonce',annonce.annonce.id]">
      <ion-text style="font-weight:bold;color:black;font-size: 1.5em;">{{annonce.annonce.title |lowercase |slice:0:30 }}{{annonce.annonce.title.length > 30 ? '&hellip;':'' }}</ion-text>
    </ion-row>
    <ion-item lines="none" [routerLink]="['/details-annonce',annonce.annonce.id]">
      <ion-text style="color:rgb(0, 0, 0);font-size:1em">
      {{annonce.annonce.intitule| slice:0:200}}{{annonce.annonce.intitule.length > 200 ? '&hellip;':'' }}
      </ion-text>
    </ion-item>
    <ion-row class="ion-margin-horizontal" style="width:100%" [routerLink]="['/details-annonce.annonce',annonce.annonce.id]">
      <ion-text>
        Publie {{timeAgo(annonce.annonce.created_at)}}
      </ion-text>
    </ion-row>
    <ion-item  [routerLink]="['/details-association',annonce.annonce.association.id]" style="width:100%;" lines="none" class="ion-no-padding ion-no-margin">
      <ion-thumbnail class="ion-margin-start" slot="start" >
        <img style="border-radius:10px" [src]="annonce.annonce.association.media.length>0?storage+annonce.annonce.association.media[0].filePath:'../../../../assets/images/user.png'" />
      </ion-thumbnail>
      <ion-col style="text-align: left">
        <ion-row >
         <ion-text style="font-weight: bold;font-size: 1.1em;">{{annonce.annonce.association.name | lowercase}}</ion-text>
        </ion-row >
        <ion-row style="margin-top:2%">
          <ion-text style="color:gray;font-size:0.8em">{{annonce.annonce.association.type |slice:0:30}}{{annonce.annonce.association.type.length>30?'....':''}}</ion-text>
        </ion-row >
      </ion-col>
    </ion-item>
  </ion-card>
</ion-content>
