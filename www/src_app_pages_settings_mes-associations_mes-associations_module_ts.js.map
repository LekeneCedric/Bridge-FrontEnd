{"version":3,"file":"src_app_pages_settings_mes-associations_mes-associations_module_ts.js","mappings":"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","sources":["./src/app/pages/settings/mes-associations/mes-associations-routing.module.ts","./src/app/pages/settings/mes-associations/mes-associations.module.ts","./src/app/pages/settings/mes-associations/mes-associations.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MesAssociationsPage } from './mes-associations.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MesAssociationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MesAssociationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MesAssociationsPageRoutingModule } from './mes-associations-routing.module';\n\nimport { MesAssociationsPage } from './mes-associations.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MesAssociationsPageRoutingModule\n  ],\n  declarations: [MesAssociationsPage]\n})\nexport class MesAssociationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { ManageDataService } from 'src/app/services/manage-data/manage-data.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-mes-associations',\n  templateUrl: './mes-associations.page.html',\n  styleUrls: ['./mes-associations.page.scss'],\n})\nexport class MesAssociationsPage implements OnInit {\n\n  constructor(private router:Router,private manageDataService:ManageDataService,private toast:ToastController) { }\n\n  ngOnInit() {\n    this.myId = JSON.parse(localStorage.getItem('mydata')).id;\n    this.manageDataService.getAssociations().toPromise().then(\n      data=>{\n        this.associations = data;\n        console.log(data)\n      }\n    )\n    const tabBar = document.getElementById('app-tab-bar');\n      if (tabBar !== null) {\n        tabBar.style.display = 'none';\n      }\n  }\n\n  /*---------------------------VARIABLES-------------------------------*/\n  myId:number=null;\n  public storage = environment.storage;\n  associations:any[]=[];\n  /*----------------------------FUNCTIONS-----------------------------*/\n  public async iAmMember(){\n    const toast = this.toast.create({\n      message:`vous etes deja membre de cette association`,\n      icon: 'information-circle',\n      duration:2000,\n      color:\"primary\"\n    });\n    (await (toast)).present(); \n  }\n  public sendDemand(id_association:number){\n    this.manageDataService.becameAssociationMember(this.myId,id_association).toPromise().then(\n      async data=>{\n        this.ngOnInit();\n        const toast = this.toast.create({\n          message:`demande envoye`,\n          icon: 'information-circle',\n          duration:2000,\n          color:\"success\"\n        });\n        (await (toast)).present(); \n      }\n    ).catch(async ()=>{\n      this.ngOnInit();\n     \n    })\n  }\n  public rejectDemand(id_association:number){\n    this.manageDataService.rejectAssociationMember(this.myId,id_association).toPromise().then(\n      async data=>{\n        this.ngOnInit();\n        const toast = this.toast.create({\n          message:`demande rejete`,\n          icon: 'information-circle',\n          duration:2000,\n          color:\"danger\"\n        });\n        (await (toast)).present(); \n      }\n    ).catch(()=>{\n      this.ngOnInit()\n    })\n  }\n  get Id(){\n    return this.myId;\n  }\n  navBack(){\n    this.router.navigateByUrl('/menu/settings',{replaceUrl:true});\n    const tabBar = document.getElementById('app-tab-bar');\n      if (tabBar !== null) {\n        tabBar.style.display = 'flex';\n      }\n  }\n  doRefresh(event){\n    setTimeout(()=>{\n     this.ngOnInit(); \n     event.target.complete();\n    },500)\n   }\n}\n"],"names":["Component","Router","ToastController","ManageDataService","environment","MesAssociationsPage","constructor","router","manageDataService","toast","storage","ngOnInit","myId","JSON","parse","localStorage","getItem","id","getAssociations","toPromise","then","data","associations","console","log","tabBar","document","getElementById","style","display","iAmMember","create","message","icon","duration","color","present","sendDemand","id_association","becameAssociationMember","catch","rejectDemand","rejectAssociationMember","Id","navBack","navigateByUrl","replaceUrl","doRefresh","event","setTimeout","target","complete","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}