{"version":3,"file":"src_app_pages_auth_register_register_module_ts.js","mappings":"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","sources":["./src/app/pages/auth/register/register-routing.module.ts","./src/app/pages/auth/register/register.module.ts","./src/app/pages/auth/register/register.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { ManageDataService } from 'src/app/services/manage-data/manage-data.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  constructor(private fb:FormBuilder,private authService:AuthService,\n    private loadingController:LoadingController,private toast:ToastController,\n    private http:HttpClient,private manageDataService:ManageDataService,\n    private router:Router) { }\n\n  ngOnInit() {\n    this.http.get<any>('assets/country_dial_info.json').toPromise().then(\n      res=>{\n          this.pays=res;\n          this.pays_temp = this.pays;\n          console.log(this.pays)\n          \n      }\n    ).finally(()=>{\n     this.http.get<any>('assets/country_city.json').toPromise().then(\n      res=>{\n          this.ville = res;\n          console.log(this.ville)\n        \n      }\n     )\n    })\n    \n    this.credential = this.fb.group({\n      name:['',[Validators.required,Validators.minLength(5)]],\n      surname:['',[Validators.required,Validators.minLength(4)]],\n      email:['',[Validators.required,Validators.email]],\n      birthday:['',[Validators.pattern(\"\")]],\n      gender:['',[Validators.required]],\n      contact:['',[Validators.required,Validators.pattern(\"^((\\\\+91-?)|0)?[0-9]{9}$\")]],\n      country:['',[Validators.required]],\n      city:['',[Validators.required]],\n      password:['',[Validators.required,Validators.minLength(6)]],\n      confirmPassword:['',[Validators.required,Validators.minLength(6)]],\n    })\n  }\n  /*-----------------------------VARIABLES-----------------------------------------------*/\n  credential:FormGroup;\n  term_condition:boolean = false;\n  password_input_type:string = 'password';\n  password_confirm_input_type:string = 'password';\n  pays :any[] = [];\n  pays_temp:any[] = [];\n  ville:any[]=[];\n  ville_temp:any[] = [];\n  code:string = '';\n\n  /*-----------------------------------------_FUNCTIONS------------------------------------ */\n  filterPays(event:any) {\n    this.pays = this.pays_temp;\n    let keyword =event.target.value\n    if (!keyword) { return false; }\n    this.pays = this.pays.filter((value)=>{\n      return value.name === keyword\n    })\n    this.code = this.pays[0].dial_code;\n    this.filterVille(keyword)\n }\n filterVille(country:string){\n  this.ville_temp=this.ville[`${country}`];\n  console.log(this.ville_temp)\n }\n\n  public async signUP(){\n    const loading = await this.loadingController.create({\n      spinner: 'lines-small',\n      message: 'Please wait...',\n      translucent: true,\n      cssClass: 'custom-class custom-loading',\n    });\n    await loading.present();\n    const credential = {\n      name: this.name.value,\n      surname:this.surname.value,\n      email:this.email.value,\n      date_naissance:!isNaN(Date.parse(this.birthday.value))?this.birthday.value:null,\n      sexe:this.gender.value,\n      contact:Number(this.code+this.contact.value),\n      pays:this.country.value,\n      ville:this.city.value,\n      password:this.password.value,\n      password_confirmation:this.confirmPassword.value\n    }\n    this.authService.signup(credential).toPromise().then(\n     async data=>{\n      loading.dismiss();\n      localStorage.setItem('token',data.token);\n      localStorage.setItem('mydata',JSON.stringify( data.user));\n      //on affiche un message de success\n      const toast = this.toast.create({\n        message:`Bienvenue ${data.user.name}`,\n        icon: 'hand-left-outline',\n        duration:2000,\n        color:\"success\"\n      });\n      (await (toast)).present();  \n          this.router.navigateByUrl('/menu/dons',{replaceUrl:true});\n      }\n    ).catch(async err=>{\n        loading.dismiss();\n        const toast = this.toast.create({\n          message:`${err.message}`,\n          icon: 'alert',\n          duration:2000,\n          color:\"danger\"\n        });\n        (await (toast)).present();  \n    }).finally(()=>{\n      let myData =JSON.parse(localStorage.getItem('mydata'));\n      const notification = {\n        donateur_id:myData.id,\n        title:`Bienvenue ${myData.name}`,\n        message:`Bienvenue dans la communaute BRIDGE ${myData.name} . Bridge est une plateforme mobile qui vous permettra tout en etant la ou vous etes \n        a venir en aide a votre prochain et meme demander de l'aide en cas de besoin sans honte car nous sommes une famille unis et aussi a vous engager a \n        venir en aide a une / plusieurs association dans le besoin , de participer aux evenements creer par ces dernies et meme d'y devenir membre si leurs \n        projet vous interesse... Et bien plus encore nous ne pourrons vous citez tout ce que nous vous donnons comme possibilite de faire , de ce fait \n        allez dans vos parametres et consultez le menu \\\"Aide\\\" pour plus d'informations`\n      }\n      this.manageDataService.setNotification(notification).toPromise().then(\n        (data)=>{console.log(data)}\n      )\n    })\n  }\n  public test(){\n    console.log(this.credential.value);\n  }\n  public validcondition(){\n    this.term_condition = !this.term_condition;\n  }\n  public  passwordMatching():boolean{\n    const password = this.password.value;\n    const passwordConf = this.confirmPassword.value;\n    return true ? password == passwordConf : false;\n    }\n  public changePassInputType(){\n    this.password_input_type == 'password'?this.password_input_type='text':this.password_input_type=\"password\"\n  }\n  public changePassConfirmInputType(){\n    this.password_confirm_input_type == 'password'?this.password_confirm_input_type='text':\n    this.password_confirm_input_type=\"password\";\n  }\n  get isDate(){\n    return !isNaN(Date.parse(this.birthday.value));\n  }\n  get name(){return this.credential.get('name');}\n  get surname(){return this.credential.get('surname');}\n  get email(){return this.credential.get('email');}\n  get birthday(){return this.credential.get('birthday');}\n  get gender(){return this.credential.get('gender');}\n  get contact(){return this.credential.get('contact');}\n  get country(){return this.credential.get('country');}\n  get city(){return this.credential.get('city');}\n  get password(){return this.credential.get('password');}\n  get confirmPassword(){return this.credential.get('confirmPassword');}\n  \n\n}\n"],"names":["HttpClient","Component","FormBuilder","Validators","Router","LoadingController","ToastController","AuthService","ManageDataService","RegisterPage","constructor","fb","authService","loadingController","toast","http","manageDataService","router","ngOnInit","get","toPromise","then","res","pays","pays_temp","console","log","finally","ville","credential","group","name","required","minLength","surname","email","birthday","pattern","gender","contact","country","city","password","confirmPassword","filterPays","event","keyword","target","value","filter","code","dial_code","filterVille","ville_temp","signUP","loading","create","spinner","message","translucent","cssClass","present","date_naissance","isNaN","Date","parse","sexe","Number","password_confirmation","signup","data","dismiss","localStorage","setItem","token","JSON","stringify","user","icon","duration","color","navigateByUrl","replaceUrl","catch","err","myData","getItem","notification","donateur_id","id","title","setNotification","test","validcondition","term_condition","passwordMatching","passwordConf","changePassInputType","password_input_type","changePassConfirmInputType","password_confirm_input_type","isDate","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}