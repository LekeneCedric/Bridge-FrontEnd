{"version":3,"file":"src_app_pages_details_details-evenements_details-evenements_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-evenements/details-evenements-routing.module.ts","./src/app/pages/details/details-evenements/details-evenements.module.ts","./src/app/pages/details/details-evenements/details-evenements.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsEvenementsPage } from './details-evenements.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsEvenementsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsEvenementsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsEvenementsPageRoutingModule } from './details-evenements-routing.module';\n\nimport { DetailsEvenementsPage } from './details-evenements.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsEvenementsPageRoutingModule\n  ],\n  declarations: [DetailsEvenementsPage]\n})\nexport class DetailsEvenementsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { ManageDataService } from 'src/app/services/manage-data/manage-data.service';\n\nimport TimeAgo from 'javascript-time-ago';\nimport fr from 'javascript-time-ago/locale/fr'\nimport { environment } from 'src/environments/environment';\n@Component({\n  selector: 'app-details-evenements',\n  templateUrl: './details-evenements.page.html',\n  styleUrls: ['./details-evenements.page.scss'],\n})\nexport class DetailsEvenementsPage implements OnInit {\n\n \n  constructor(private navCtrl:NavController,private manageDataService:ManageDataService,\n    private loadingController:LoadingController,\n    private route:ActivatedRoute) { }\n\n  ngOnInit() {\n    \n    this.myId = JSON.parse(localStorage.getItem('mydata')).id;\n    TimeAgo.addDefaultLocale(fr);\n    this.id = this.route.snapshot.params['id'];\n    this.MouvementInfo()\n    this.manageDataService.imParticipate(this.myId,this.id).toPromise().then(\n      data=>{\n        console.log(data.message)\n        data.message == 'reserve'?this.imParticipate=true:this.imParticipate=false;\n        console.log(this.imParticipate)\n      }\n    )\n    const tabBar = document.getElementById('app-tab-bar');\n  if (tabBar !== null) {\n    tabBar.style.display = 'none';\n  }\n  }\npublic Mouvement:any = null;\npublic id:number = null;\npublic myId:number = null;\npublic imParticipate:boolean = false;\npublic elapsedTime:any;\npublic storage = environment.storage;\npublic slideOpts = {\n    initialSlide: 0,\n    speed: 1000,\n    autoplay: {\n          delay: 5000,\n          disableOnInteraction: false,\n          stopOnLastSlide: false\n    }\n  }\n  /*----------------------------*/\n  public async annulerParticipation(){\n    const loading = await this.loadingController.create({\n      spinner: 'bubbles',\n      message: 'enregistrement....',\n      translucent: true,\n      cssClass: 'custom-class custom-loading',\n    });\n    await loading.present();\n    this.manageDataService.annulerParticipation(this.myId,this.id).toPromise().then(\n      async (data)=>{\n        await loading.dismiss();\n        this.ngOnInit();\n      }\n    ).catch(async ()=>{\n     await loading.dismiss();\n    })\n  }\n  public async participerMouvement(){\n    const loading = await this.loadingController.create({\n      spinner: 'bubbles',\n      message: 'enregistrement....',\n      translucent: true,\n      cssClass: 'custom-class custom-loading',\n    });\n    await loading.present();\n    const data = {\n      mouvement_id:this.Mouvement.id,\n      donateur_id:this.myId\n    }\n    this.manageDataService.participerMouvement(data).toPromise().then(\n      async (data)=>{\n        await loading.dismiss();\n        this.ngOnInit();\n      }\n    ).catch(async ()=>{\n     await loading.dismiss();\n    })\n  }\n  public MouvementInfo(){\n    this.manageDataService.getOneMouvement(this.id).toPromise().then(\n      data=>{\n        this.Mouvement = data;\n        TimeAgo.addDefaultLocale(fr);\n        const timeAgo = new TimeAgo('fr-EU');\n        this.elapsedTime = timeAgo.format(new Date(Date.parse(data.created_at)));\n        \n      }\n    )\n  }\npublic timeAgo(created_at:any):string{\n    const timeAgo = new TimeAgo('fr-EU');\n    const elapsedTime = timeAgo.format(new Date(Date.parse(created_at)-60*1000));\n    return elapsedTime\n  }\nget IdMouvement():number{\n   return this.id;\n  }\ndoRefresh(event){\n    setTimeout(()=>{\n     this.ngOnInit(); \n     event.target.complete();\n    },500)\n   }\n  navBack(){\n    this.navCtrl.back();\n  }\n}\n"],"names":["Component","ActivatedRoute","LoadingController","NavController","ManageDataService","TimeAgo","fr","environment","DetailsEvenementsPage","constructor","navCtrl","manageDataService","loadingController","route","storage","initialSlide","speed","autoplay","delay","disableOnInteraction","stopOnLastSlide","ngOnInit","myId","JSON","parse","localStorage","getItem","id","addDefaultLocale","snapshot","params","MouvementInfo","imParticipate","toPromise","then","data","console","log","message","tabBar","document","getElementById","style","display","annulerParticipation","loading","create","spinner","translucent","cssClass","present","dismiss","catch","participerMouvement","mouvement_id","Mouvement","donateur_id","getOneMouvement","timeAgo","elapsedTime","format","Date","created_at","IdMouvement","doRefresh","event","setTimeout","target","complete","navBack","back","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}