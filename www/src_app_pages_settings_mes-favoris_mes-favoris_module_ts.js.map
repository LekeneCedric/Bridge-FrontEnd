{"version":3,"file":"src_app_pages_settings_mes-favoris_mes-favoris_module_ts.js","mappings":"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","sources":["./src/app/pages/settings/mes-favoris/mes-favoris-routing.module.ts","./src/app/pages/settings/mes-favoris/mes-favoris.module.ts","./src/app/pages/settings/mes-favoris/mes-favoris.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MesFavorisPage } from './mes-favoris.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MesFavorisPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MesFavorisPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MesFavorisPageRoutingModule } from './mes-favoris-routing.module';\n\nimport { MesFavorisPage } from './mes-favoris.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MesFavorisPageRoutingModule\n  ],\n  declarations: [MesFavorisPage]\n})\nexport class MesFavorisPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { ManageDataService } from 'src/app/services/manage-data/manage-data.service';\nimport { environment } from 'src/environments/environment';\n\nimport fr from 'javascript-time-ago/locale/fr'\n\nimport TimeAgo from 'javascript-time-ago';\n@Component({\n  selector: 'app-mes-favoris',\n  templateUrl: './mes-favoris.page.html',\n  styleUrls: ['./mes-favoris.page.scss'],\n})\nexport class MesFavorisPage implements OnInit {\n\n  constructor(private manageDataService:ManageDataService,private navCtrl:NavController,private alertController:AlertController) { }\n\n  ngOnInit() {\n    TimeAgo.addDefaultLocale(fr);\n    this.myId = JSON.parse(localStorage.getItem('mydata')).id;\n    const tabBar = document.getElementById('app-tab-bar');\n      if (tabBar !== null) {\n        tabBar.style.display = 'none';\n      }\n   this.getAnnoncesFavoris()\n  }\n/*----------------------------------------VARIABLES--------------------------------*/\npublic AnnoncesFavoris:any[]=[];\npublic storage:string = environment.storage;\nprivate myId:number;\n/*---------------------------------------FUNCTIONS-------------------------------------*/\npublic timeAgo(created_at:any):string{\n  const timeAgo = new TimeAgo('fr-EU');\n  const elapsedTime = timeAgo.format(new Date(Date.parse(created_at)-60*1000));\n  return elapsedTime\n}\npublic getAnnoncesFavoris(){\n  this.manageDataService.mesAnnoncesFavoris().toPromise().then(\n    (data)=>{\n      this.AnnoncesFavoris = data;\n    }\n  )\n}\npublic like(id_annonce){\n  const data = {\n    donateur_id:this.myId,\n    annonce_id:id_annonce\n  }\n  this.manageDataService.LikerAnnonce(data).toPromise().then((data)=>{\n    this.ngOnInit()\n  })\n}\npublic async dislike(id_annonce){\n  const alert = await this.alertController.create({\n    header: 'vous vous engagez a retirer l\\'annonce de vos favoris ? ',\n    buttons: [\n      {\n        text: 'non',\n        role: 'cancel',\n        handler: () => {\n        },\n      },\n      {\n        text: 'oui j\\'ai compris',\n        role: 'confirm',\n        handler: () => {\n          this.manageDataService.disLikerAnnonce(id_annonce).toPromise().then(\n            (data)=>{\n               this.ngOnInit();\n            }\n          )\n        },\n      },\n    ],\n  });\n  await alert.present();\n}\npublic back(){\n  this.navCtrl.back();\n  const tabBar = document.getElementById('app-tab-bar');\n  if (tabBar !== null) {\n    tabBar.style.display = 'flex';\n  }\n}\n}\n"],"names":["Component","AlertController","NavController","ManageDataService","environment","fr","TimeAgo","MesFavorisPage","constructor","manageDataService","navCtrl","alertController","storage","ngOnInit","addDefaultLocale","myId","JSON","parse","localStorage","getItem","id","tabBar","document","getElementById","style","display","getAnnoncesFavoris","timeAgo","created_at","elapsedTime","format","Date","mesAnnoncesFavoris","toPromise","then","data","AnnoncesFavoris","like","id_annonce","donateur_id","annonce_id","LikerAnnonce","dislike","alert","create","header","buttons","text","role","handler","disLikerAnnonce","present","back","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}