{"version":3,"file":"src_app_pages_notifications_notifications_notifications_module_ts.js","mappings":"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","sources":["./src/app/pages/notifications/notifications/notification/notification.page.ts","./src/app/pages/notifications/notifications/notifications-routing.module.ts","./src/app/pages/notifications/notifications/notifications.module.ts","./src/app/pages/notifications/notifications/notifications.page.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.page.html',\n  styleUrls: ['./notification.page.scss'],\n})\nexport class NotificationPage implements OnInit {\n@Input() title:string;\n@Input() description:string;\n@Input() timeAgo:any;\n  constructor(private modalCtrl:ModalController) { }\n\n  ngOnInit() {\n  }\n  confirm(){\n    return this.modalCtrl.dismiss(null, 'confirm');\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationsPage } from './notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationsPage\n  },\n  {\n    path: 'notification',\n    loadChildren: () => import('./notification/notification.module').then( m => m.NotificationPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationsPageRoutingModule } from './notifications-routing.module';\n\nimport { NotificationsPage } from './notifications.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationsPageRoutingModule\n  ],\n  declarations: [NotificationsPage]\n})\nexport class NotificationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { ManageDataService } from 'src/app/services/manage-data/manage-data.service';\nimport TimeAgo from 'javascript-time-ago';\nimport fr from 'javascript-time-ago/locale/fr'\nimport { NotificationPage } from './notification/notification.page';\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.page.html',\n  styleUrls: ['./notifications.page.scss'],\n})\nexport class NotificationsPage implements OnInit {\n\n  constructor(private route:ActivatedRoute,private manageDataService:ManageDataService,\n    private navCtrl:NavController,private modalCtrl:ModalController) { }\n\n  ngOnInit() {\n    this.notifications = [];\n    TimeAgo.addDefaultLocale(fr);\n    setInterval(()=>{\n      const tabBar = document.getElementById('app-tab-bar');\n      tabBar.style.display = 'flex';\n    },100)\n    this.id_donateur = this.route.snapshot.params['id_donateur'];\n    this.manageDataService.getNotificationDonateur(this.id_donateur).toPromise().then(\n      data=>{\n        data.forEach((notif)=>{\n          this.notifications.push(notif);\n        })\n      }\n    ).finally(()=>{\n      console.log(this.notifications)\n    })\n  }\n\n  /*-------------------------VARIABLES--------------------------*/\n  public id_donateur:number = null;\n  public notifications:any[]=[]\n  /*--------------------------FUNCTIONS-------------------------*/\n  public refresh(){\n    setTimeout(()=>{\n      this.ngOnInit();\n    },500)\n  }\n  public timeAgo(created_at:any):string{\n    const timeAgo = new TimeAgo('fr-EU');\n    const elapsedTime = timeAgo.format(new Date(Date.parse(created_at)-60*1000));\n    return elapsedTime\n  }\n  public back(){\n  this.navCtrl.back();\n  }\n  public async openNotification(notif){\n    this.manageDataService.vueNotification(this.id_donateur,notif.id).toPromise().then(async ()=>{\n      const modal = await this.modalCtrl.create({\n        component:NotificationPage,\n        componentProps:{\n          title:notif.title,\n          description:notif.message,\n          timeAgo:this.timeAgo(notif.created_at)\n        },\n        breakpoints:[0,1],\n        initialBreakpoint:1,\n        animated:true,\n        handle:false\n      });\n      modal.present();\n      const {data,role } = await modal.onWillDismiss();\n      if(role ==='confirm'){}\n    })\n    \n  }\n  doRefresh(event){\n    setTimeout(()=>{\n     this.ngOnInit(); \n     event.target.complete();\n    },500)\n   }\n}\n"],"names":["Component","ActivatedRoute","ModalController","NavController","ManageDataService","TimeAgo","fr","NotificationPage","NotificationsPage","constructor","route","manageDataService","navCtrl","modalCtrl","ngOnInit","notifications","addDefaultLocale","setInterval","tabBar","document","getElementById","style","display","id_donateur","snapshot","params","getNotificationDonateur","toPromise","then","data","forEach","notif","push","finally","console","log","refresh","setTimeout","timeAgo","created_at","elapsedTime","format","Date","parse","back","openNotification","vueNotification","id","modal","create","component","componentProps","title","description","message","breakpoints","initialBreakpoint","animated","handle","present","role","onWillDismiss","doRefresh","event","target","complete","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}